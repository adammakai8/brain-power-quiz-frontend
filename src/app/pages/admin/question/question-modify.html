<div class="overflow-auto h-100">
    <app-adminnavbar></app-adminnavbar>
    <div class="mt-6 mb-3 d-flex justify-content-center">
        <div class="w-25">
            <h3 class="text-center mb-3">
                <div *ngIf="isCreate">{{ 'admin.navbar.question' | translate }} {{ 'admin.create.new' | translate }}</div>
                <div *ngIf="!isCreate">{{ 'admin.navbar.question' | translate }} {{ 'admin.create.update' | translate }}</div>
            </h3>
            <form [formGroup]="form">
                <div class="form-outline mb-4">
                    <label class="form-label" for="text">{{ 'admin.questions.text' | translate }}</label>
                    <input type="text" id="text" class="form-control" formControlName="text" [(ngModel)]="question.text"/>
                </div>
                <div class="form-outline mb-4">
                    <label class="form-label" for="difficulty">{{ 'admin.questions.difficulty' | translate }}</label>
                    <input type="number" id="difficulty" class="form-control" formControlName="difficulty" [(ngModel)]="question.difficulty"/>
                </div>
                <div class="form-outline mb-4">
                    <div class="row">
                        <div class="col">
                            <label class="form-label" for="answer1">{{ 'admin.questions.answer' | translate }}</label>
                        </div>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-11">
                            <input type="text" id="answer1" class="form-control"
                            formControlName="answer1" [(ngModel)]="question.answers[0].text"/>
                        </div>
                        <div class="col p-0">
                            <input class="align-middle form-check-input" type="radio"
                            value="0" id="answer1_radio" formControlName="checkAnswer"  [checked]="correctAnswerIndex === 0"/>
                        </div>
                    </div>
                </div>
                <div class="form-outline mb-4">
                    <div class="row">
                        <div class="col">
                            <label class="form-label" for="answer2">{{ 'admin.questions.answer' | translate }}</label>
                        </div>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-11">
                            <input type="text" id="answer2" class="form-control"
                            formControlName="answer2" [(ngModel)]="question.answers[1].text"/>
                        </div>
                        <div class="col p-0">
                            <input class="align-middle form-check-input" type="radio"
                            value="1" id="answer2_radio" formControlName="checkAnswer"  [checked]="correctAnswerIndex === 1"/>
                        </div>
                    </div>
                </div>
                <div class="form-outline mb-4">
                    <div class="row">
                        <div class="col">
                            <label class="form-label" for="answer3">{{ 'admin.questions.answer' | translate }}</label>
                        </div>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-11">
                            <input type="text" id="answer3" class="form-control"
                            formControlName="answer3" [(ngModel)]="question.answers[2].text"/>
                        </div>
                        <div class="col p-0">
                            <input class="align-middle form-check-input" type="radio"
                            value="2" id="answer3_radio" formControlName="checkAnswer"  [checked]="correctAnswerIndex === 2"/>
                        </div>
                    </div>
                </div>
                <div class="form-outline mb-4">
                    <div class="row">
                        <div class="col">
                            <label class="form-label" for="answer4">{{ 'admin.questions.answer' | translate }}</label>
                        </div>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-11">
                            <input type="text" id="answer4" class="form-control"
                            formControlName="answer4" [(ngModel)]="question.answers[3].text"/>
                        </div>
                        <div class="col p-0">
                            <input class="align-middle form-check-input" type="radio"
                            value="3" id="answer4_radio" formControlName="checkAnswer" [checked]="correctAnswerIndex === 3"/>
                        </div>
                    </div>
                </div>
                <div class="form-outline mb-4" >
                    <div class="row">
                        <div class="col-4" *ngFor="let theme of themes">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" [value]="theme.text"
                                id='{{theme.text}}' (change)="onCheckboxChange($event)"
                                [checked]="currentThemeNames.indexOf(theme.text) >= 0"/>
                                <label class="form-check-label" for="{{theme.text}}">
                                    {{theme.text}}
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-primary" [disabled]="form.invalid" (click)="update()">
                        <div *ngIf="isCreate">{{ 'admin.buttons.create' | translate }}</div>
                        <div *ngIf="!isCreate">{{ 'admin.buttons.edit' | translate }}</div>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>